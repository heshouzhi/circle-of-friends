<!DOCTYPE html>
<!-- saved from url=(0097)http://pyq001.1y0g.com/view3?uid=oJ642szr4G-SKgO5KFnUdr_NfWIU&from=singlemessage&isappinstalled=0 -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>æˆ‘çš„æœ‹å‹åœˆ</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="css/mui.min.css">
    <link rel="stylesheet" href="css/my.previewimage.css" />
    <link rel="stylesheet" href="css/app.css">
    <script src="js/jquery.min.js" type="text/javascript"></script>

    <style type="text/css">
        * {cursor: pointer;}
        .weui_mask_transition {
            display: none;
            position: fixed;
            z-index: 1;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: rgba(0, 0, 0, 0);
            -webkit-transition: background .1s;
            transition: background .1s;
        }
        .weui_fade_toggle {
            background: rgba(0, 0, 0, 1);
        }
        .weui_actionsheet {
            position: fixed;
            left: 0;
            bottom: 0;
            -webkit-transform: translate(0, 100%);
            -ms-transform: translate(0, 100%);
            transform: translate(0, 100%);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            z-index: 2;
            width: 100%;
            background-color: #EFEFF4;
            -webkit-transition: -webkit-transform .1s;
            transition: transform .1s;
        }
        .weui_actionsheet_toggle {
            -webkit-transform: translate(0, 0);
            -ms-transform: translate(0, 0);
            transform: translate(0, 0);
        }
        .weui_actionsheet_menu {
            background-color: #FFFFFF;
        }
        .weui_actionsheet_cell:before {
            content: " ";
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 1px;
            border-top: 1px solid #D9D9D9;
            -webkit-transform-origin: 0 0;
            -ms-transform-origin: 0 0;
            transform-origin: 0 0;
            -webkit-transform: scaleY(0.5);
            -ms-transform: scaleY(0.5);
            transform: scaleY(0.5);
        }
        .weui_actionsheet_cell:first-child:before {
            display: none;
        }
        .weui_actionsheet_cell {
            position: relative;
            padding: 10px 0;
            text-align: center;
            font-size: 18px;
        }
        .weui_actionsheet_cell.title {
            color: #999;
        }
        .weui_actionsheet_action {
            margin-top: 6px;
            background-color: #FFFFFF;
        }

        .preview_animation{
            width: 100%;
            -webkit-animation:preview_bounceIn 0.3s linear;
            -moz-animation:preview_bounceIn 0.3s linear;
        }
        @-webkit-keyframes preview_bounceIn{
            0%{
                opacity:0;
                -webkit-transform:scale(0)
            }
            100%{
                opacity:1;
                -webkit-transform:scale(1)
            }
        }
        @-moz-keyframes preview_bounceIn{
            0%{
                opacity:0;
                -moz-transform:scale(0)
            }
            100%{
                opacity:1;
                -moz-transform:scale(1)
            }
        }
        .preview-img-wrap {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 2;
            display: flex;
            align-items: center;
        }
        .back-position {
            position: fixed;
            background: #000;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1
        }
        .post .play-control {
            position: absolute;
            width: 40px;
            top: 50%;
            padding: 0;
            margin-top: -20px;
            left: 50%;
            margin-left: -20px;
        }
        .video1 {
            position: fixed;
            width: 100%;
        }

    </style>

</head>
<body>
<div>
    <video class="video1" id="video1">
        <source src="" type="video/mp4">
        <source src="" type="video/ogg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ HTML5 video æ ‡ç­¾ã€‚
    </video>
    <header>
        <img id="bg" src="images/bg.jpg">
        <p id="user-name" class="data-name">æ·å…‹ï½</p>
        <img id="avt" class="data-avt" src="images/0.jpg">
    </header>
    <div id="main">
        <div id="list">
            <ul>
            </ul>
        </div>

    </div>
</div>

<script src="js/mui.min.js"></script>
<script src="js/mui.zoom.js"></script>
<script src="js/mui.previewimage.js"></script>
<script src="js/jquery-3.4.1.min.js"></script>

<script>
    $("#bg").css("height", $("body").width()*0.65333+"px")
    var datas = [
        {
            time: "2020/09/14 13:14",
            resources: ["01.jpg", "02.jpg", "03.jpg", "04.jpg", "05.jpg", "01.jpg"],
            resources_type: "img",
            text: "æ”¶å–é—²å¿ƒå†·å¤„æµ“ï¼Œ</br>èˆè£™çŠ¹å¿†æŸ˜æçº¢ã€‚</br>è°å®¶åˆ»çƒ›å¾…æ˜¥é£ï¼Œ</br>ç«¹å¶æ¨½ç©ºç¿»é‡‡ç‡•ã€‚</br>ä¹æç¯çºé¢¤é‡‘è™«ï¼Œ</br>é£æµç«¯åˆå€šå¤©å…¬ã€‚"
        },
        {
            time: "2020/09/14 14:37",
            resources: ["01.jpg", "02.jpg", "03.jpg", "04.jpg"],
            resources_type: "img",
            text: "å¤§å®¶å¥½ï¼Œå¬è¯´å›½å†…å†»æˆç‹—ğŸ¶ï¼Ÿæˆ‘è¿™è¾¹è¿˜æŒºçƒ­ï¼Œé‚£ä¸€å¹´è¿™å…„å¼Ÿä¸‰äººå‘èª“ä¸€å®šè¦å‡ºäººå¤´åœ°ï¼Œä»¥åæœ‰ç¦åŒäº«æœ‰éš¾åŒå½“ï¼Œå¦‚ä»Šï¼šå¤§å“¥åªæ‰‹é®å¤©ä¸‡äººä¹‹ä¸Šï¼ŒäºŒå“¥é»„é‡‘ä¸‡ä¸¤å¯Œç”²ä¸€æ–¹ï¼Œä¸‰å¼Ÿæ·¡æ³Šååˆ©ä¸ºäººä½è°ƒ"
        },
        {
            time: "2020/08/14 14:37",
            resources: ["video.mp4"],
            resources_type: "video",
            text: "å¤§å®¶å¥½ï¼Œå¬è¯´å›½å†…å†»æˆç‹—ğŸ¶ï¼Ÿæˆ‘è¿™è¾¹è¿˜æŒºçƒ­ï¼Œé‚£ä¸€å¹´è¿™å…„å¼Ÿä¸‰äººå‘èª“ä¸€å®šè¦å‡ºäººå¤´åœ°ï¼Œä»¥åæœ‰ç¦åŒäº«æœ‰éš¾åŒå½“ï¼Œå¦‚ä»Šï¼šå¤§å“¥åªæ‰‹é®å¤©ä¸‡äººä¹‹ä¸Šï¼ŒäºŒå“¥é»„é‡‘ä¸‡ä¸¤å¯Œç”²ä¸€æ–¹ï¼Œä¸‰å¼Ÿæ·¡æ³Šååˆ©ä¸ºäººä½è°ƒ"
        },
        {
            time: "2020/07/14 10:37",
            resources: ["01.jpg", "02.jpg", "03.jpg", "04.jpg", "05.jpg", "02.jpg","01.jpg", "02.jpg", "03.jpg"],
            resources_type: "img",
            text: "å¤§å®¶å¥½ï¼Œå¬è¯´å›½å†…å†»æˆç‹—ğŸ¶ï¼Ÿæˆ‘è¿™è¾¹è¿˜æŒºçƒ­ï¼Œé‚£ä¸€å¹´è¿™å…„å¼Ÿä¸‰äººå‘èª“ä¸€å®šè¦å‡ºäººå¤´åœ°ï¼Œä»¥åæœ‰ç¦åŒäº«æœ‰éš¾åŒå½“ï¼Œå¦‚ä»Šï¼šå¤§å“¥åªæ‰‹é®å¤©ä¸‡äººä¹‹ä¸Šï¼ŒäºŒå“¥é»„é‡‘ä¸‡ä¸¤å¯Œç”²ä¸€æ–¹ï¼Œä¸‰å¼Ÿæ·¡æ³Šååˆ©ä¸ºäººä½è°ƒ"
        }
    ]
    
    for (var i = 0; i < datas.length; i++) {
        var time_text = setTime(datas[i].time)
        var month = doHandleMonth(new Date(datas[i].time))
        var day = new Date(datas[i].time).getDate()
        var resources = datas[i].resources
        var text = datas[i].text
        var resources_type = datas[i].resources_type
        var text_node = ""
        var nodes = ""
        var resources_nodes = "<div>"
        if(resources && Array.isArray(resources)&&resources.length>0) {
            
            if(resources_type == "img") {
                resources.forEach(function(item, index) {
                    var src = "images/"+ item
                    var height = ($("body").width() -91)*0.2687 + "px"
                    var style = "width: 26.87%; height:"+height
                    resources_nodes += "<img class='list-img' src="+src+" style='"+style+"' data-preview-src="+src+" data-preview-group='"+i+"' />"
                    
                })
                resources_nodes += "</div>"
            } else {
                var src = "images/"+ resources[0]
                var style = "width: 60%;position: relative;"
                resources_nodes += "<div style='"+style+"'><img data-src='"+src+"' class='play-control' src='images/play.png'><video onclick='play(this)' style='width: 100%;'><source src="+src+" type='video/mp4'></video></div>"
            }
        }
        text_node = "<div class='post'><p class='post-word'>"+text+"</p>"+resources_nodes+"</div>"
        nodes += "<li><div class='po-date-wrap'><span class='po-date-day'>"+day+"</span><span class='po-date-month'>"+month+"</span></div>"+ "\n"
                +"<div class='po-cmt'><div class='po-hd'>"+text_node+"<p class='time'>"+time_text+"</p></div></div></li>"
        $("#list ul").append(nodes)
    }
    
    window.onload=function() {
        mui.previewImage();
        mui.plusReady(function() {})
    }

    function setTime(time){
        var currentTime = Date.parse(new Date());
        var dateTime = time;//åå°ä¼ é€’æ¥çš„æ—¶é—´
        var ts = '';//æ˜¾ç¤ºæ—¶é—´
        var d_day = Date.parse(new Date(dateTime));
        var day = Math.abs(parseInt((d_day - currentTime)/1000/3600/24));//è®¡ç®—æ—¥æœŸ
        var hour = Math.abs(parseInt((d_day - currentTime)/1000/3600));//è®¡ç®—å°æ—¶
        var minutes = Math.abs(parseInt((d_day - currentTime)/1000/60));//è®¡ç®—åˆ†é’Ÿ
        var seconds = Math.abs(parseInt((d_day - currentTime)/1000));//è®¡ç®—ç§’
        console.log(day);
        if(day >= 2){
            ts = (parseInt(day)+"å¤©å‰").toString();
        }else if(day > 0 && day < 2){
            ts = ("æ˜¨å¤©").toString();
        }else if(hour > 0 && hour < 24){
            ts = (parseInt(hour)+"å°æ—¶å‰").toString();
        }else if(minutes > 0 && minutes < 60){
            ts = (parseInt(minutes)+"åˆ†é’Ÿå‰").toString();
        }else if(seconds > 0 && seconds < 60){
            ts = (parseInt(seconds)+"ç§’å‰").toString();
        }
        return ts;
    }

    function play(_this) {
        console.log(_this)
    }


    function doHandleMonth(myDate) {
        console.log('myDate', myDate)
        var tMonth = myDate.getMonth();
        console.log('tMonth', tMonth)
        var m = tMonth + 1;
        // if (m.toString().length == 1) {
        //     m = "0" + m;
        // }
        return m + "æœˆ";
    }
</script>


<script>
   
</script>



</body>
</html>